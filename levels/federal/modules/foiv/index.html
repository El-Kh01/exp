<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Модуль ФОИВ - Федеральные органы исполнительной власти</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Шапка -->
    <header class="site-header">
        <div class="container">
            <div class="header-wrapper">
                <a href="../../../../index.html" class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-flag"></i>
                    </div>
                    <div class="logo-text">
                        <h1>Федеральный уровень</h1>
                        <p class="logo-subtitle">Субъекты государственного управления РФ</p>
                    </div>
                </a>
                
                <nav class="breadcrumbs">
                    <a href="../../../../index.html"><i class="fas fa-home"></i> Главная</a>
                    <span class="separator">/</span>
                    <a href="../../index.html">Федеральный уровень</a>
                    <span class="separator">/</span>
                    <span class="current">ФОИВ</span>
                </nav>
                
                <button class="menu-toggle" aria-label="Меню">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Основной контент -->
    <main class="main-content">
        <!-- Герой-секция -->
        <section class="module-hero">
            <div class="container">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1>Модуль</h1>
                        <p>Федеральные органы исполнительной власти</p>
                        
                        <div class="hero-stats">
                            <div class="hero-stat-single">
                                <div class="hero-stat-item">
                                    <span class="number">69</span>
                                    <span class="label">ФОИВов</span>
                                </div>
                            </div>
                            <div class="hero-stat-row">
                                <div class="hero-stat-item">
                                    <span class="number">21</span>
                                    <span class="label">Министерств</span>
                                </div>
                                <div class="hero-stat-item">
                                    <span class="number">30</span>
                                    <span class="label">Служб</span>
                                </div>
                                <div class="hero-stat-item">
                                    <span class="number">18</span>
                                    <span class="label">Агентств</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="hero-visual">
                        <div class="hero-icon">
                            <i class="fas fa-landmark"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Вкладки модулей -->
        <section class="module-tabs">
            <div class="container">
                <div class="tabs-container">
                    <div class="tabs-header">
                        <h2>Модуль</h2>
                        <p>Федеральные органы исполнительной власти</p>
                    </div>
                    
                    <div class="tabs-buttons">
                        <button class="tab-btn active" data-tab="system">
                            <i class="fas fa-sitemap"></i>
                            <span>Система</span>
                        </button>
                        <button class="tab-btn" data-tab="structure">
                            <i class="fas fa-project-diagram"></i>
                            <span>Структура</span>
                        </button>
                        <button class="tab-btn" data-tab="spheres">
                            <i class="fas fa-globe-americas"></i>
                            <span>Сферы</span>
                        </button>
                    </div>
                    
                    <div class="tabs-content">
                        <!-- Модуль "Система" -->
                        <div class="tab-pane active" id="system-tab">
                            <div class="module-description">
                                <h3><i class="fas fa-sitemap"></i> СИСТЕМА</h3>
                                
                                <div class="system-details">
                                    <h4>
                                        <div class="legend-badge"><span>НПА</span></div>
                                        Федеральное министерство
                                    </h4>
                                    <p>Является ФОИВом, осуществляющим функции по выработке государственной политики и нормативно-правовому регулированию в установленной сфере деятельности; осуществляет координацию и контроль деятельности находящихся в его ведении федеральных служб и федеральных агентств.</p>
                                    <p>под функциями по принятию нормативных правовых актов понимается издание правил поведения, распространяющихся на неопределенный круг лиц;</p>
                                    
                                    <div class="law-reference">
                                        <span style="color: var(--dark-gray); font-size: 0.9rem;">См. </span>
                                        <a href="https://www.consultant.ru/document/cons_doc_LAW_46892/" class="text-link" target="_blank">
                                            <i class="fas fa-external-link-alt"></i> УП РФ от 9 марта 2004 г. № 314
                                        </a>
                                    </div>
                                </div>
                                
                                <div class="system-details">
                                    <h4>
                                        <div class="legend-badge"><span>АН</span></div>
                                        Федеральная служба
                                    </h4>
                                    <p>Является ФОИВом, осуществляющим функции по контролю и надзору в установленной сфере деятельности</p>
                                    <p>а также специальные функции в области обороны, государственной безопасности, защиты и охраны государственной границы Российской Федерации, борьбы с преступностью, общественной безопасности.</p>
                                    
                                    <p>под функциями по контролю и надзору понимаются:</p>
                                    <ul>
                                        <li>осуществление действий по контролю и надзору за исполнением общеобязательных правил поведения;</li>
                                        <li>выдача разрешений (лицензий) на осуществление определенного вида деятельности и (или) конкретных действий юридическим лицам и гражданам;</li>
                                        <li>регистрация актов, документов, прав, объектов, а также издание индивидуальных правовых актов;</li>
                                    </ul>
                                </div>
                                
                                <div class="system-details">
                                    <h4>
                                        <div class="legend-badge"><span>ГИ</span></div>
                                        <div class="legend-badge" style="margin-left: 10px;"><span>ГУ</span></div>
                                        Федеральное агентство
                                    </h4>
                                    <p>Является ФОИВом, осуществляющим в установленной сфере деятельности функции по оказанию государственных услуг, по управлению государственным имуществом и правоприменительные функции.</p>
                                    <p>под функциями по управлению государственным имуществом понимается осуществление полномочий собственника в отношении федерального имущества, а также управление находящимися в федеральной собственности акциями открытых акционерных обществ;</p>
                                    <p>под функциями по оказанию государственных услуг понимается предоставление федеральными органами исполнительной власти непосредственно или через подведомственные им федеральные государственные учреждения либо иные организации безвозмездно или по регулируемым органами государственной власти ценам услуг гражданам и организациям в области образования, здравоохранения, социальной защиты населения и в других областях, установленных федеральными законами.</p>
                                </div>
                            </div>
                            
                            <div class="module-content">
                                <aside class="sidebar">
                                    <div class="search-box">
                                        <i class="fas fa-search"></i>
                                        <input type="text" id="searchSystem" placeholder="Поиск ФОИВ...">
                                    </div>
                                    
                                    <div class="filters">
                                        <div class="filter-group">
                                            <h4><i class="fas fa-filter"></i> Фильтр по типу:</h4>
                                            <div class="filter-buttons">
                                                <button class="filter-btn active" data-filter="all">Все</button>
                                                <button class="filter-btn" data-filter="ministry">Министерства</button>
                                                <button class="filter-btn" data-filter="service">Службы</button>
                                                <button class="filter-btn" data-filter="agency">Агентства</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="foiv-list-container">
                                        <div class="list-header">
                                            <h4><i class="fas fa-list"></i> Список ФОИВ</h4>
                                            <span class="count" id="systemCount">69</span>
                                        </div>
                                        <div class="foiv-list" id="systemList">
                                            <!-- Список загрузится динамически -->
                                        </div>
                                    </div>
                                </aside>
                                
                                <main class="content">
                                    <div class="content-placeholder" id="systemContent">
                                        <div class="placeholder-icon">
                                            <i class="fas fa-hand-pointer"></i>
                                        </div>
                                        <h3>Выберите ФОИВ</h3>
                                        <p>Выберите федеральный орган исполнительной власти из списка слева, чтобы увидеть подробную информацию о его функциях, структуре и полномочиях.</p>
                                        <div class="placeholder-tip">
                                            <i class="fas fa-lightbulb"></i>
                                            <span>Используйте фильтры для поиска по типу органа</span>
                                        </div>
                                    </div>
                                </main>
                            </div>
                        </div>
                        
                        <!-- Модуль "Структура" -->
                        <div class="tab-pane" id="structure-tab">
                            <div class="module-description">
                                <h3><i class="fas fa-project-diagram"></i> СТРУКТУРА</h3>
                                <p class="block-description">перечень конкретных органов, входящих в систему ФОИВ и обеспечивающих реализацию Правительством РФ возложенных задач и полномочий</p>
                                
                                <div class="system-details">
                                    <h4>Структура включает ФОИВы, непосредственно подчиненные:</h4>
                                    <ul style="list-style: none; padding-left: 0;">
                                        <li>
                                            <div style="display: flex; align-items: center; gap: 12px; text-decoration: none; color: inherit; padding: 0.8rem; border-radius: var(--border-radius); transition: var(--transition); background: rgba(220, 53, 69, 0.05); border: 1px solid rgba(220, 53, 69, 0.1);">
                                                <div class="legend-structure president">
                                                    <i class="fas fa-user-tie"></i>
                                                </div>
                                                <div>
                                                    <strong style="color: var(--detroit-dark-gray);">Президенту РФ</strong>
                                                    <div style="font-size: 0.9rem; color: var(--dark-gray); margin-top: 0.2rem;">Высший уровень руководства</div>
                                                </div>
                                            </div>
                                        </li>
                                        <li style="margin-top: 1rem;">
                                            <div style="display: flex; align-items: center; gap: 12px; text-decoration: none; color: inherit; padding: 0.8rem; border-radius: var(--border-radius); transition: var(--transition); background: rgba(23, 162, 184, 0.05); border: 1px solid rgba(23, 162, 184, 0.1);">
                                                <div class="legend-structure government">
                                                    <i class="fas fa-landmark"></i>
                                                </div>
                                                <div>
                                                    <strong style="color: var(--detroit-dark-gray);">Правительству РФ</strong>
                                                    <div style="font-size: 0.9rem; color: var(--dark-gray); margin-top: 0.2rem;">Основной уровень руководства</div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                    <p style="margin-top: 1.5rem;">Ряд ФОИВов подчинен министерствам, которые в свою очередь находятся в подчинении Правительства РФ или Президента РФ (все органы занимают неравноценное положение в Структуре: в пределах одного или двух иерархических уровней).</p>
                                    
                                    <div class="law-reference">
                                        <span style="color: var(--dark-gray); font-size: 0.9rem;">См. </span>
                                        <a href="https://www.consultant.ru/document/cons_doc_LAW_476078/" class="text-link" target="_blank">
                                            <i class="fas fa-external-link-alt"></i> УП РФ от 31 мая 2024г. № 326
                                        </a>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="module-content">
                                <aside class="sidebar">
                                    <div class="search-box">
                                        <i class="fas fa-search"></i>
                                        <input type="text" id="searchStructure" placeholder="Поиск ФОИВ...">
                                    </div>
                                    
                                    <div class="filters">
                                        <div class="filter-group">
                                            <h4><i class="fas fa-filter"></i> Фильтр по подчинению:</h4>
                                            <div class="filter-buttons">
                                                <button class="filter-btn active" data-filter="all">Все</button>
                                                <button class="filter-btn" data-filter="president">Президенту РФ</button>
                                                <button class="filter-btn" data-filter="government">Правительству РФ</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="foiv-list-container">
                                        <div class="list-header">
                                            <h4><i class="fas fa-list"></i> Список ФОИВ</h4>
                                            <span class="count" id="structureCount">69</span>
                                        </div>
                                        <div class="foiv-list" id="structureList">
                                            <!-- Список загрузится динамически -->
                                        </div>
                                    </div>
                                </aside>
                                
                                <main class="content">
                                    <div class="content-placeholder" id="structureContent">
                                        <div class="placeholder-icon">
                                            <i class="fas fa-project-diagram"></i>
                                        </div>
                                        <h3>Выберите ФОИВ</h3>
                                        <p>Выберите федеральный орган исполнительной власти из списка слева, чтобы увидеть его место в иерархии подчинения.</p>
                                    </div>
                                </main>
                            </div>
                        </div>
                        
                        <!-- Модуль "Сферы" -->
                        <div class="tab-pane" id="spheres-tab">
                            <div class="module-description">
                                <h3><i class="fas fa-globe-americas"></i> СФЕРЫ ОБЩЕСТВЕННОЙ ЖИЗНИ</h3>
                                
                                <div class="system-details">
                                    <h4>
                                        <div class="sphere-color-badge" style="background: var(--economic);"></div>
                                        Экономическая сфера
                                    </h4>
                                    <ul class="sphere-list">
                                        <li><i class="fas fa-arrow-right"></i> управление экономическим развитием</li>
                                        <li><i class="fas fa-arrow-right"></i> финансы</li>
                                        <li><i class="fas fa-arrow-right"></i> промышленность и торговля</li>
                                        <li><i class="fas fa-arrow-right"></i> антимонопольное регулирование</li>
                                        <li><i class="fas fa-arrow-right"></i> агропромышленный комплекс</li>
                                        <li><i class="fas fa-arrow-right"></i> энергетика</li>
                                        <li><i class="fas fa-arrow-right"></i> транспорт</li>
                                        <li><i class="fas fa-arrow-right"></i> строительство и жилищно-коммунальное хозяйство</li>
                                        <li><i class="fas fa-arrow-right"></i> цифровое развитие, связь, массовые коммуникации</li>
                                        <li><i class="fas fa-arrow-right"></i> таможенное дело</li>
                                        <li><i class="fas fa-arrow-right"></i> экология, окружающая среда</li>
                                    </ul>
                                </div>
                                
                                <div class="system-details">
                                    <h4>
                                        <div class="sphere-color-badge" style="background: var(--social);"></div>
                                        Социально-культурная сфера
                                    </h4>
                                    <ul class="sphere-list">
                                        <li><i class="fas fa-arrow-right"></i> образование и наука</li>
                                        <li><i class="fas fa-arrow-right"></i> культура</li>
                                        <li><i class="fas fa-arrow-right"></i> здравоохранение</li>
                                        <li><i class="fas fa-arrow-right"></i> труд и социальная защита</li>
                                        <li><i class="fas fa-arrow-right"></i> физическая культура и спорт</li>
                                    </ul>
                                </div>
                                
                                <div class="system-details">
                                    <h4>
                                        <div class="sphere-color-badge" style="background: var(--political);"></div>
                                        Административно-политическая сфера
                                    </h4>
                                    <ul class="sphere-list">
                                        <li><i class="fas fa-arrow-right"></i> оборона</li>
                                        <li><i class="fas fa-arrow-right"></i> государственная безопасность</li>
                                        <li><i class="fas fa-arrow-right"></i> внутренние дела</li>
                                        <li><i class="fas fa-arrow-right"></i> иностранные дела</li>
                                        <li><i class="fas fa-arrow-right"></i> юстиция</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="module-content">
                                <aside class="sidebar">
                                    <div class="search-box">
                                        <i class="fas fa-search"></i>
                                        <input type="text" id="searchSpheres" placeholder="Поиск ФОИВ...">
                                    </div>
                                    
                                    <div class="filters">
                                        <div class="filter-group">
                                            <h4><i class="fas fa-filter"></i> Фильтр по сфере:</h4>
                                            <div class="filter-buttons">
                                                <button class="filter-btn active" data-filter="all">Все</button>
                                                <button class="filter-btn" data-filter="political">Политическая</button>
                                                <button class="filter-btn" data-filter="economic">Экономическая</button>
                                                <button class="filter-btn" data-filter="social">Социальная</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="foiv-list-container">
                                        <div class="list-header">
                                            <h4><i class="fas fa-list"></i> Список ФОИВ</h4>
                                            <span class="count" id="spheresCount">69</span>
                                        </div>
                                        <div class="foiv-list" id="spheresList">
                                            <!-- Список загрузится динамически -->
                                        </div>
                                    </div>
                                </aside>
                                
                                <main class="content">
                                    <div class="content-placeholder" id="spheresContent">
                                        <div class="placeholder-icon">
                                            <i class="fas fa-globe-americas"></i>
                                        </div>
                                        <h3>Выберите ФОИВ</h3>
                                        <p>Выберите федеральный орган исполнительной власти из списка слева, чтобы увидеть его сферу деятельности и функции.</p>
                                    </div>
                                </main>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Обозначения -->
        <section class="legend-section">
            <div class="container">
                <div class="section-header">
                    <h2><i class="fas fa-info-circle"></i> Условные обозначения</h2>
                </div>
                
                <div class="legend-grid">
                    <div class="legend-category">
                        <h4>Сферы деятельности</h4>
                        <div class="legend-item">
                            <div class="legend-color" style="background: var(--political);"></div>
                            <div class="legend-text">Административно-политическая сфера</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: var(--economic);"></div>
                            <div class="legend-text">Экономическая сфера</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: var(--social);"></div>
                            <div class="legend-text">Социально-культурная сфера</div>
                        </div>
                    </div>
                    
                    <div class="legend-category">
                        <h4>Полномочия</h4>
                        <div class="legend-item">
                            <div class="legend-badge"><span>НПА</span></div>
                            <div class="legend-text">Принятие нормативных правовых актов</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-badge"><span>АН</span></div>
                            <div class="legend-text">Административный надзор</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-badge"><span>ГИ</span></div>
                            <div class="legend-text">Управление государственным имуществом</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-badge"><span>ГУ</span></div>
                            <div class="legend-text">Оказание государственных услуг</div>
                        </div>
                    </div>
                    
                    <div class="legend-category">
                        <h4>Структура подчинения</h4>
                        <div class="legend-item">
                            <div class="legend-structure president">
                                <i class="fas fa-user-tie"></i>
                            </div>
                            <div class="legend-text">Под руководством Президента РФ</div>
                        </div>
                        <div class="legend-item">
                            <div class="legend-structure government">
                                <i class="fas fa-landmark"></i>
                            </div>
                            <div class="legend-text">Под руководством Правительства РФ</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Подвал -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Федеральный уровень</h4>
                    <p>Изучение органов государственной власти Российской Федерации</p>
                </div>
                
                <div class="footer-section">
                    <h4>Навигация</h4>
                    <ul class="footer-links">
                        <li><a href="../../../../index.html"><i class="fas fa-home"></i> На главную</a></li>
                        <li><a href="../../index.html"><i class="fas fa-flag"></i> Федеральный уровень</a></li>
                        <li><a href="#" class="back-to-top"><i class="fas fa-arrow-up"></i> В начало страницы</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Ресурсы</h4>
                    <ul class="footer-links">
                        <li><a href="http://kremlin.ru" target="_blank"><i class="fas fa-user-tie"></i> Президент России</a></li>
                        <li><a href="http://government.ru" target="_blank"><i class="fas fa-landmark"></i> Правительство РФ</a></li>
                        <li><a href="http://pravo.gov.ru" target="_blank"><i class="fas fa-gavel"></i> Официальный портал правовой информации</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2026 Субъекты государственного управления РФ. Федеральный уровень.</p>
            </div>
        </div>
    </footer>

    <!-- Подключаем JavaScript -->
    <script src="js/main.js"></script>
    <script src="js/foiv.js"></script>
    
    <script>
        // Анимация чисел в статистике
        document.addEventListener('DOMContentLoaded', function() {
            // Анимация счетчиков
            const counters = document.querySelectorAll('.number');
            counters.forEach(counter => {
                const target = parseInt(counter.textContent);
                let current = 0;
                const increment = target / 50;
                
                const updateCounter = () => {
                    if (current < target) {
                        current += increment;
                        if (current > target) current = target;
                        counter.textContent = Math.round(current);
                        setTimeout(updateCounter, 30);
                    }
                };
                updateCounter();
            });
            
            // Мобильное меню
            document.querySelector('.menu-toggle').addEventListener('click', function() {
                document.querySelector('.breadcrumbs').classList.toggle('active');
            });
            
            // Кнопка "В начало"
            document.querySelector('.back-to-top').addEventListener('click', function(e) {
                e.preventDefault();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            // Закрытие меню при клике на ссылку
            document.querySelectorAll('.breadcrumbs a').forEach(link => {
                link.addEventListener('click', () => {
                    document.querySelector('.breadcrumbs').classList.remove('active');
                });
            });
            
            // Анимация для карточек при скролле
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);
            
            // Применяем к легенде
            document.querySelectorAll('.legend-category').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(el);
            });
            
            // Через 100мс показываем элементы
            setTimeout(() => {
                document.querySelectorAll('.legend-category').forEach(el => {
                    if (el.getBoundingClientRect().top < window.innerHeight) {
                        el.style.opacity = '1';
                        el.style.transform = 'translateY(0)';
                    }
                });
            }, 100);
        });
        
        // Функция для загрузки и отображения ФОИВов
        document.addEventListener('DOMContentLoaded', function() {
            // Массив данных ФОИВ с добавленными полями для полномочий
            const foivData = [
                {
                    "id": "mchs",
                    "name": "Министерство Российской Федерации по делам гражданской обороны, чрезвычайным ситуациям и ликвидации последствий стихийных бедствий",
                    "shortName": "МЧС России",
                    "type": "ministry",
                    "sphere": "political",
                    "powers": ["npa"],
                    "leader": "government",
                    "officialWebsite": "https://www.mchs.gov.ru"
                },
                {
                    "id": "fsb",
                    "name": "Федеральная служба безопасности Российской Федерации",
                    "shortName": "ФСБ России",
                    "type": "service",
                    "sphere": "political",
                    "powers": ["supervision"],
                    "leader": "president",
                    "officialWebsite": "https://www.fsb.ru"
                },
                {
                    "id": "mid",
                    "name": "Министерство иностранных дел Российской Федерации",
                    "shortName": "МИД России",
                    "type": "ministry",
                    "sphere": "political",
                    "powers": ["npa"],
                    "leader": "president",
                    "officialWebsite": "https://mid.ru"
                },
                {
                    "id": "mincifry",
                    "name": "Министерство цифрового развития, связи и массовых коммуникаций Российской Федерации",
                    "shortName": "Минцифры России",
                    "type": "ministry",
                    "sphere": "economic",
                    "powers": ["npa"],
                    "leader": "government",
                    "officialWebsite": "https://digital.gov.ru"
                },
                {
                    "id": "minzdrav",
                    "name": "Министерство здравоохранения Российской Федерации",
                    "shortName": "Минздрав России",
                    "type": "ministry",
                    "sphere": "social",
                    "powers": ["npa"],
                    "leader": "government",
                    "officialWebsite": "https://minzdrav.gov.ru"
                },
                {
                    "id": "mineconomy",
                    "name": "Министерство экономического развития Российской Федерации",
                    "shortName": "Минэкономразвития России",
                    "type": "ministry",
                    "sphere": "economic",
                    "powers": ["npa"],
                    "leader": "government",
                    "officialWebsite": "https://www.economy.gov.ru"
                },
                {
                    "id": "rosgvardiya",
                    "name": "Федеральная служба войск национальной гвардии Российской Федерации",
                    "shortName": "Росгвардия",
                    "type": "service",
                    "sphere": "political",
                    "powers": ["supervision"],
                    "leader": "president",
                    "officialWebsite": "https://rosguard.gov.ru"
                },
                {
                    "id": "rosreestr",
                    "name": "Федеральная служба государственной регистрации, кадастра и картографии",
                    "shortName": "Росреестр",
                    "type": "service",
                    "sphere": "economic",
                    "powers": ["supervision"],
                    "leader": "government",
                    "officialWebsite": "https://rosreestr.gov.ru"
                },
                {
                    "id": "mintrud",
                    "name": "Министерство труда и социальной защиты Российской Федерации",
                    "shortName": "Минтруд России",
                    "type": "ministry",
                    "sphere": "social",
                    "powers": ["npa"],
                    "leader": "government",
                    "officialWebsite": "https://mintrud.gov.ru"
                },
                {
                    "id": "minjust",
                    "name": "Министерство юстиции Российской Федерации",
                    "shortName": "Минюст России",
                    "type": "ministry",
                    "sphere": "political",
                    "powers": ["npa"],
                    "leader": "president",
                    "officialWebsite": "https://minjust.gov.ru"
                },
                {
                    "id": "rosimushchestvo",
                    "name": "Федеральное агентство по управлению государственным имуществом",
                    "shortName": "Росимущество",
                    "type": "agency",
                    "sphere": "economic",
                    "powers": ["property", "services"],
                    "leader": "government",
                    "officialWebsite": "https://rosim.gov.ru"
                },
                {
                    "id": "rostourism",
                    "name": "Федеральное агентство по туризму",
                    "shortName": "Ростуризм",
                    "type": "agency",
                    "sphere": "economic",
                    "powers": ["property", "services"],
                    "leader": "government",
                    "officialWebsite": "https://www.russiatourism.ru"
                }
            ];
            
            // Функция для получения цвета сферы
            function getSphereColor(sphere) {
                if (sphere === 'political') return '#e80909';
                if (sphere === 'economic') return '#1013e3';
                if (sphere === 'social') return '#f5d442';
                return '#2A2D34'; // default
            }
            
            // Функция для получения цвета полномочий
            function getPowerColor(power) {
                if (power === 'npa') return '#1e3c72';
                if (power === 'supervision') return '#2a5298';
                if (power === 'property') return '#408BC9';
                if (power === 'services') return '#5DA9E9';
                return '#2A2D34'; // default
            }
            
            // Функция для получения текста полномочий
            function getPowerText(power) {
                if (power === 'npa') return 'НПА';
                if (power === 'supervision') return 'АН';
                if (power === 'property') return 'ГИ';
                if (power === 'services') return 'ГУ';
                return '';
            }
            
            // Функция для создания элемента списка ФОИВ только с сферой, полномочиями и структурой
            function createFoivListItem(foiv) {
                // Определяем цвет сферы
                const sphereColor = getSphereColor(foiv.sphere);
                
                // Определяем значок подчинения
                const leaderIcon = foiv.leader === 'president' ? 'fas fa-user-tie' : 'fas fa-landmark';
                const leaderClass = foiv.leader === 'president' ? 'president' : 'government';
                
                // Создаем значки полномочий
                let powersHTML = '';
                if (foiv.powers && Array.isArray(foiv.powers)) {
                    foiv.powers.forEach(power => {
                        const powerColor = getPowerColor(power);
                        const powerText = getPowerText(power);
                        powersHTML += `
                            <div class="foiv-power-badge" style="background: ${powerColor};" title="${power === 'npa' ? 'Нормативные правовые акты' : power === 'supervision' ? 'Административный надзор' : power === 'property' ? 'Государственное имущество' : 'Государственные услуги'}">
                                <span>${powerText}</span>
                            </div>
                        `;
                    });
                }
                
                return `
                    <div class="foiv-list-item" data-id="${foiv.id}" data-type="${foiv.type}" data-sphere="${foiv.sphere}" data-leader="${foiv.leader}">
                        <div class="foiv-name">${foiv.shortName}</div>
                        <div class="foiv-badges">
                            <div class="foiv-sphere-badge" style="background: ${sphereColor};" title="${foiv.sphere === 'political' ? 'Политическая сфера' : foiv.sphere === 'economic' ? 'Экономическая сфера' : 'Социальная сфера'}"></div>
                            <div class="foiv-powers">${powersHTML}</div>
                            <div class="foiv-leader-badge ${leaderClass}" title="${foiv.leader === 'president' ? 'Подчиняется Президенту РФ' : 'Подчиняется Правительству РФ'}">
                                <i class="${leaderIcon}"></i>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            // Функция для отображения списка ФОИВ
            function renderFoivList(containerId, data) {
                const container = document.getElementById(containerId);
                if (!container) return;
                
                container.innerHTML = '';
                data.forEach(foiv => {
                    container.innerHTML += createFoivListItem(foiv);
                });
                
                // Добавляем обработчики кликов на элементы списка
                container.querySelectorAll('.foiv-list-item').forEach(item => {
                    item.addEventListener('click', function() {
                        const foivId = this.getAttribute('data-id');
                        const foiv = data.find(f => f.id === foivId);
                        if (foiv) {
                            showFoivDetails(foiv);
                        }
                    });
                });
            }
            
            // Функция для показа деталей ФОИВ
            function showFoivDetails(foiv) {
                console.log('Выбран ФОИВ:', foiv);
                // Здесь будет логика отображения деталей ФОИВ в правой части
                // Можно показать модальное окно или изменить контент в правой панели
            }
            
            // Загружаем данные из файла JSON (если есть)
            function loadFoivData() {
                // Пытаемся загрузить из внешнего файла
                fetch('data/foiv.json')
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Файл с данными не найден, используем встроенные данные');
                        }
                        return response.json();
                    })
                    .then(data => {
                        // Используем данные из файла
                        renderFoivList('systemList', data);
                        renderFoivList('structureList', data);
                        renderFoivList('spheresList', data);
                        updateCounters(data.length);
                    })
                    .catch(error => {
                        console.log(error.message);
                        // Используем встроенные данные
                        renderFoivList('systemList', foivData);
                        renderFoivList('structureList', foivData);
                        renderFoivList('spheresList', foivData);
                        updateCounters(foivData.length);
                    });
            }
            
            // Обновляем счетчики
            function updateCounters(count) {
                document.getElementById('systemCount').textContent = count;
                document.getElementById('structureCount').textContent = count;
                document.getElementById('spheresCount').textContent = count;
            }
            
            // Загружаем данные
            loadFoivData();
            
            // Фильтрация списков
            function setupFiltering() {
                // Фильтрация для системы (по типу)
                document.querySelectorAll('#system-tab .filter-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const filter = this.getAttribute('data-filter');
                        const items = document.querySelectorAll('#systemList .foiv-list-item');
                        
                        // Обновляем активную кнопку
                        document.querySelectorAll('#system-tab .filter-btn').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        
                        // Фильтруем элементы
                        items.forEach(item => {
                            const type = item.getAttribute('data-type');
                            if (filter === 'all' || filter === type) {
                                item.style.display = 'flex';
                            } else {
                                item.style.display = 'none';
                            }
                        });
                    });
                });
                
                // Фильтрация для структуры (по подчинению)
                document.querySelectorAll('#structure-tab .filter-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const filter = this.getAttribute('data-filter');
                        const items = document.querySelectorAll('#structureList .foiv-list-item');
                        
                        // Обновляем активную кнопку
                        document.querySelectorAll('#structure-tab .filter-btn').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        
                        // Фильтруем элементы
                        items.forEach(item => {
                            const leader = item.getAttribute('data-leader');
                            if (filter === 'all' || filter === leader) {
                                item.style.display = 'flex';
                            } else {
                                item.style.display = 'none';
                            }
                        });
                    });
                });
                
                // Фильтрация для сфер (по сфере)
                document.querySelectorAll('#spheres-tab .filter-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const filter = this.getAttribute('data-filter');
                        const items = document.querySelectorAll('#spheresList .foiv-list-item');
                        
                        // Обновляем активную кнопку
                        document.querySelectorAll('#spheres-tab .filter-btn').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        
                        // Фильтруем элементы
                        items.forEach(item => {
                            const sphere = item.getAttribute('data-sphere');
                            if (filter === 'all' || filter === sphere) {
                                item.style.display = 'flex';
                            } else {
                                item.style.display = 'none';
                            }
                        });
                    });
                });
                
                // Поиск по всем модулям
                ['searchSystem', 'searchStructure', 'searchSpheres'].forEach(searchId => {
                    const searchInput = document.getElementById(searchId);
                    if (searchInput) {
                        searchInput.addEventListener('input', function() {
                            const searchTerm = this.value.toLowerCase();
                            const containerId = searchId.replace('search', '') + 'List';
                            const items = document.querySelectorAll(`#${containerId} .foiv-list-item`);
                            
                            items.forEach(item => {
                                const name = item.querySelector('.foiv-name').textContent.toLowerCase();
                                if (name.includes(searchTerm)) {
                                    item.style.display = 'flex';
                                } else {
                                    item.style.display = 'none';
                                }
                            });
                        });
                    }
                });
            }
            
            // Настраиваем фильтрацию
            setupFiltering();
        });
    </script>

    <style>
        /* Дополнительные стили для фильтров и значков */
        .legend-badge {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--detroit-dark-gray);
            color: var(--detroit-white);
            border-radius: 6px;
            transform: rotate(45deg);
            flex-shrink: 0;
            transition: var(--transition);
            font-weight: 600;
            border: 1px solid var(--detroit-gray);
        }
        
        .legend-badge:hover {
            transform: rotate(45deg) scale(1.1);
            background: var(--detroit-blue);
        }
        
        .legend-badge span {
            transform: rotate(-45deg);
            font-size: 0.85rem;
            font-weight: 700;
        }
        
        /* Стили для элементов списка ФОИВ */
        .foiv-list-item {
            padding: 12px 15px;
            border-bottom: 1px solid var(--detroit-light-gray);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .foiv-list-item:hover {
            background: rgba(64, 139, 201, 0.1);
        }
        
        .foiv-name {
            font-weight: 600;
            color: var(--detroit-dark-gray);
            font-size: 1rem;
        }
        
        .foiv-badges {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        
        .foiv-sphere-badge {
            width: 28px;
            height: 28px;
            border-radius: 6px;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            flex-shrink: 0;
        }
        
        .foiv-powers {
            display: flex;
            gap: 4px;
            align-items: center;
        }
        
        .foiv-power-badge {
            width: 28px;
            height: 28px;
            border-radius: 6px;
            transform: rotate(45deg);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .foiv-power-badge span {
            transform: rotate(-45deg);
            font-size: 0.75rem;
            font-weight: 700;
            color: white;
        }
        
        .foiv-leader-badge {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            color: white;
            flex-shrink: 0;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .foiv-leader-badge.president {
            background: linear-gradient(135deg, #dc3545, #ff6b6b);
        }
        
        .foiv-leader-badge.government {
            background: linear-gradient(135deg, #17a2b8, #39c6d8);
        }
        
        /* Значки для фильтров в структуре (убраны) */
        .leader-badge {
            display: none;
        }
        
        /* Значки для фильтров в сферах (убраны) */
        .sphere-filter-badge {
            display: none;
        }
        
        /* Стили для цветных значков сфер (оставляем только в описании) */
        .sphere-color-badge {
            display: inline-block;
            width: 32px;
            height: 32px;
            border-radius: var(--border-radius-sm);
            margin-right: 10px;
            border: 2px solid white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        /* Улучшение фильтров */
        .filter-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .filter-btn {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            border: 1px solid var(--detroit-gray);
            border-radius: var(--border-radius);
            background: var(--detroit-white);
            color: var(--detroit-dark-gray);
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition);
            text-align: left;
            width: 100%;
        }
        
        .filter-btn:hover {
            background: var(--detroit-light-gray);
            border-color: var(--detroit-blue);
        }
        
        .filter-btn.active {
            background: var(--detroit-blue);
            color: white;
            border-color: var(--detroit-blue);
        }
        
        /* Адаптивность */
        @media (max-width: 768px) {
            .filter-buttons {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .filter-btn {
                flex: 1;
                min-width: calc(50% - 8px);
                justify-content: center;
                text-align: center;
                padding: 8px;
            }
            
            .foiv-badges {
                gap: 6px;
            }
            
            .foiv-sphere-badge,
            .foiv-power-badge,
            .foiv-leader-badge {
                width: 24px;
                height: 24px;
            }
            
            .foiv-power-badge span {
                font-size: 0.7rem;
            }
            
            .foiv-leader-badge {
                font-size: 0.8rem;
            }
        }
        
        @media (max-width: 480px) {
            .filter-btn {
                min-width: 100%;
            }
            
            .foiv-badges {
                gap: 4px;
            }
            
            .foiv-sphere-badge,
            .foiv-power-badge,
            .foiv-leader-badge {
                width: 22px;
                height: 22px;
            }
        }
    </style>
</body>
</html>
